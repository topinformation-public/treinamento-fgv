<template>
    
    <div class="slds-card slds-p-around_none slds-m-top_x-small slds-m-bottom_medium slds-m-horizontal_none ">
        
        <div class="slds-grid slds-wrap slds-grid_vertical-align-center slds-p-horizontal_small">

            <div class="slds-col slds-large-size_4-of-12 slds-medium-size_4-of-12 slds-small-size_4-of-12 slds-p-right_x-small">

                <lightning-input type="text"
                    class="validable"
                    name="documentNumber"
                    label="CPF"
                    required
                    value={enrollment.documentNumber}
                    max-length="14"
                    onblur={handleDocument}
                    ></lightning-input>

            </div>

            <div class="slds-col slds-large-size_8-of-12 slds-medium-size_8-of-12 slds-small-size_8-of-12">

                <lightning-input type="text"
                    class="validable"
                    name="name"
                    label="Nome"
                    value={enrollment.name}
                    required
                    max-length="255"
                    onblur={handleChange}
                ></lightning-input>

            </div>

        </div>

        <div class="slds-grid slds-wrap slds-grid_vertical-align-center slds-p-horizontal_small">

            <div class="slds-col slds-large-size_4-of-12 slds-medium-size_4-of-12 slds-small-size_4-of-12 slds-p-right_x-small">

                <lightning-input type="tel"
                    class="validable"
                    label="Telefone"
                    name="phone"
                    value={enrollment.phone}
                    required
                    max-length="15"
                    onblur={handleChange}
                ></lightning-input>
    
            </div>

            <div class="slds-col slds-large-size_8-of-12 slds-medium-size_8-of-12 slds-small-size_8-of-12">

                <lightning-input type="email"
                    class="validable"
                    label="Email"
                    name="email"
                    value={enrollment.email}
                    required
                    max-length="255"
                    onblur={handleChange}
                ></lightning-input>
    
            </div>

            <div class="slds-col slds-large-size_8-of-12 slds-medium-size_8-of-12 slds-small-size_8-of-12">
                
                <lightning-input 
                label="Course"
                type="text"
                name="course"
                value={enrollment.course.name}
                read-only
                >
                </lightning-input>
            </div>
            <div class="slds-col slds-large-size_1-of-12 slds-medium-size_1-of-12 slds-small-size_1-of-12">

                <lightning-button-icon 
                icon-name="utility:search" 
                alternative-text="Pesquisa de Cursos" 
                class="slds-m-left_xx-small" 
                onclick={openModal}
                title="Pesquisa de Cursos"></lightning-button-icon>

            </div>


        </div>

        <c-address  
            class="component-validable"
            address={enrollment.address}
            ></c-address>


    </div>

    <div class="">

        <lightning-button name="createLead" 
            label="Continuar"
            onclick={handleCreate}    
        ></lightning-button>

        <lightning-button class="" name="openModal" 
            label="Abrir modal"
            onclick={openModal}    
        ></lightning-button>

    </div>

    <template if:true={showModal}>

        <c-modal
            title="Pesquise os dados de Custo" 
            close-label="Ok" 
            onclosemodal={closeModal}>

            <c-search-course-modal
                oncourseselected={handleCourseSelected}
            ></c-search-course-modal>
                
        </c-modal>

    </template>

    <template if:true={loading}>
        <lightning-spinner alternative-text="Loading" size="small"></lightning-spinner>
    </template>

</template>